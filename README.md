# design-patterns
>##23种设计模式

### 模式可以分为三大类：
    
  - 创建型模式（Creational Patterns）
    - 单例模式
    - 工厂模式
    - 抽象工厂模式
    - 建造者模式
    - 原型模式
  - 结构型模式（Structural Patterns）
  	- 适配器模式
  	- 桥接模式
  	- 装饰模式
  	- 组合模式
  	- 外观模式
  	- 享元模式
  	- 代理模式
  - 行为型模式（Behavioral Patterns）--
	- 模版方法模式
	- 命令模式(不常用)
	- 迭代器模式（不常用）
	- 观察者模式
	- 中介者模式
	- 备忘录模式
	- 解释器模式(不常用)
	- 状态模式
	- 策略模式
	- 职责链模式
	- 访问者模式(不常用)

> <h1>创建型模式<h1>
>> <h5>关注对象创建过程<h5>

### **单例模式**
    核心作用：保证一个类只有一个实例，并且提供访问实例的全局访问点。
    优点：减少性能开销，避免对资源的多重占用。
    应用场景：
        1.获取配置文件的类
        2.网站计数器
        3.共享文件操作
        4.数据库连接池
        5.生成唯一序号或id

    如何选用：
        1.单例对象若占用资源少且不需要懒加载，选枚举方式
        2.单例对象若占用资源多且需要懒加载，选静态内部类方式

    注意点：非枚举方式实现的单例能被反射或序列化破坏单例模式（一般情况可以忽略这种情况）

### **工厂模式**
    核心作用：实例化对象，用工程方法代替new的操作，实现统一管理和控制，从而达到调用方和实现类的解构。
    分类：
        1.简单工厂模式
            也叫静态工厂，即工厂类的方法都为静态方法。新增一个新产品，必须修改代码，否则无法拓展。结构简单
        2.工厂方法模式
            即一组实现了相同接口的工厂类，而简单工厂则只有一个工厂类。不修改已有类的前提下，通过新增工厂类实现拓展。代码清晰简洁，但是类多
        3.抽象工厂模式
            工厂方法模式的升级版，解决多个业务产品、业务分类场景。
	应用场景：
		1.JDK中Calendar的getInstance方法。
		2.JDBC中Connection对象的获取。
		3.反射中Class对象的newInstance()。
		4.Hibernate中SessionFactory创建Session。
		5.Spring中IOC容器创建管理bean对象。
		6. ......
           
### **建造者模式模式**
	核心作用：构建与装配解耦，实现更好的复用。
	适用情况：某个对象构建过程复杂。
	与工厂模式的区别：建造者模式更加关注装配的顺序。
	开发中应用的场景：
	    1.StringBuilder类的append方法
	    2.SQL中的的PreparedStatement 
	    3. ......

### **原型（克隆）模式**
	核心作用：提高短时间且频繁的创建一个复杂对象的效率。
	应用场景：很少单独出现，一般与工厂模式结合使用。Spring的bean的创建分了单例（默认）和原型（非单例）。
	注意点：必须实现Cloneable接口；序列化方式实现深克隆，需要实现Serializable接口
			 
	
> <h1>结构型模式<h1>  
>> <h5>关注对象和类的组织<h5>

### **适配器模式** 
	核心作用：协调不兼容的接口，使其能正常工作。
	应用场景：
		1.旧系统的升级、改造。
		2.IO流中的InputStreamReader(InputStream)，OutputStreamWriter(OutputStream)。
		3. ......

### **代理模式** 	
	核心作用：通过代理，控制对象的访问。
	应用场景：
		1.屏蔽对真实对象的直接访问。
		2.dubbo通过代理类处理远程方法调用
		3.缓存代理
		4.Spring AOP
		5. ......
	动态代理与静态代理的区别：
		抽象角色中(接口)声明的所有方法都被转移到调用处理器一个集中的方法中处理，这样更加方便和灵活。

### **桥接模式**
	核心作用： 取代多级继承关系。
	应用场景：
		1.JDBC驱动程序。
		2.日志管理
			• 格式分类：操作日志、交易日志、异常日志
			• 距离分类：本地记录日志、异地记录日志
		3.奖金计算：
			• 奖金分类：个人奖金、团体奖金、激励奖金。
			• 部门分类：人事部门、销售部门、研发部门。
		4.消息处理：
			• 业务类型：普通消息、加急消息、特急消息
			• 发送消息方式：系统内消息、手机短信、邮件

	
### **组合模式**
	核心作用：用树形结构来表示部分和整体的关系。
	应用场景：
		1.操作系统的资源管理器
		2.树形菜单
		3.xml文件解析
		
### **装饰（包装）模式**
	核心作用：动态的为一个现有的对象增加新功能。代替继承，无需通过继承新增子类就能拓展新功能。
	应用场景：
		1.IO流中的输入流和输出流的设计。
		2.Servlet Api中的HttpServletRequestWrapper类。
		3. ......
	装饰模式和桥接模式的区别：
		相同点：都是为了减少子类。
		不同点：桥接模式是对象自身现有机制沿着多个维度变化；装饰模式单纯的为了新增新的功能。
	
### **外观（门面）模式**
	核心作用：封装，封装子系统的复杂性，便于客户端调用。
	应用场景：
		1.各种框架封装的工具类。
		2.被封装的对象。
		3. .....

### **享元模式**
	核心作用：以共享的方式高效地支持大量细粒度对象的重用。
	应用场景：
		1.共享多个完全相同或相似的对象，节省内存。通常跟工厂模式一起使用。



> <h1>行为型模式<h1>  
>> <h5>关注系统中对象之间的交互，通信和协作<h5>


### **责任链模式**
	核心作用：将同一类请求的对象连成一条链，请求沿着该链传递，每个链上的对象判断是否处理该请求，若能处理则处理，不能则转给链上的下一个对象处理。
	应用场景：
		1.xxx审批。
		2.Java异常机制的捕获处理。
		3.Servlet的过滤器。
		4. .......
	
### **迭代器模式**    
	核心作用：提供一种方法，顺序访问一个聚合对象中各个元素。
	应用场景：
        1.为遍历不同的聚合结构提供一个统一的接口。
		2.分页对象中是否有下一页。

### **中介者模式**
	核心作用：协调系统中各个模块的联系，起到解耦作用。
	应用场景：
		1.MVC模式
		2.想通过一个中间类来封装多个类中的行为，而又不想生成太多的子类。

### **命令模式**
	核心作用：将一个请求封装成一个对象，从而可以用不同的请求对被调用方进行参数化。
	应用场景：
		1.数据库事务机制的底层实现。
		2.命令的撤销和恢复。

### **解释器模式**
	核心作用：该接口解释一个特定的上下文。
	应用场景：
		1.sql解析。
		2.正则表达式解析。
		3.暗语解析。


### **访问者模式**
	核心作用：主要将数据结构与数据操作分离。
	应用场景：
		1.xml文档解析设计
		2.对象结构中对象对应的类很少改变，但经常需要在此对象结构上定义新的操作。

### **策略模式**
	核心作用：分离算法，选择实现。比如， if...else 所带来的复杂和难以维护。
	应用场景：
		1.Spring框架中，Resource接口，资源访问策略。
		2.CRM的客户分级、优惠策略。

### **模板方法模式**
	核心作用：定义一个操作中的算法骨架，而将一些步骤延迟到子类中。模板方法使得子类可以不改变一个算法的结构即可重定义该算法的某些特定步骤。（本质跟多态一样）
	应用场景：
		1.数据库一系列访问操作的封装。
		2.Servlet的doGet/doPost方法调用。
		3.Spring的JDBCTemplate、HibernateTempl等

### **状态模式**
	核心作用：于解决系统中复杂对象的状态转换以及不同状态下行为的封装问题。
	应用场景：
		1.银行系统账号状态的管理。
		2.商城订单系统订单状态的管理。
		3.线程对象各状态之间的切换。
		4.条件、分支语句的代替者

### **观察者模式**
	核心作用：一对多的通知。
	应用场景：
		1.QQ群聊天。
		2.邮件订阅。
		3.Servlet中的监听器。
		4. ......

### **备忘录模式**
	核心作用：就是保存某个对象内部状态的拷贝，这样以后就可以将该对象恢复到原先的状态。
	应用场景：
		1.棋牌游戏。
		2.撤销操作。
		3.数据库事务回滚。
		4. .....


